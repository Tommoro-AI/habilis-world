# 4.2 데이터 기록
모든 설정이 완료되었다면 아래 단계에 따라 로봇 동작 데이터를 기록합니다.
<br />

## Step 1. 초기 자세 이동
녹화 시작 전, 로봇을 미리 등록해둔 초기 수행 자세로 이동시키는 단계입니다.

1. 포즈 프리셋 선택
상단 메뉴의 포즈 토글(Dropdown) 메뉴에서 녹화에 사용할 로봇 자세를 선택합니다.

2. 로봇 이동 실행
우측의 초록색 **신발 모양 아이콘**을 클릭합니다.
![예시 이미지](./image/4.4_pose_composition.gif)

<br />

:::danger[위험]
- **[신발 모양 아이콘]** 버튼 클릭 시 실제 로봇이 즉시 움직이므로, 구동 범위 내에 장애물이나 사람이 없는지 반드시 확인하십시오.
:::


<br />




## Step 2. 녹화 시작 및 중지
1. 화면 하단의 <strong> 빨간색 녹화 버튼(🔴)</strong>을 클릭하여 데이터 기록을 시작합니다.
2. 설정한 `Episode duration`이 종료되거나, 수동으로 저장 버튼을 누르면 기록이 완료됩니다.
![예시 이미지](./image/4.6_recording.gif)

:::warning[경고]
카메라 연결이 불안정할 경우, 데이터셋 기록 중 해당 에피소드가 자동으로 삭제될 수 있습니다.
온전한 데이터 확보를 위해 녹화 중 화면이 정상적으로 출력되는지 반드시 확인해 주세요.
:::
<br />

## Step 3. 기록 취소
1. 녹화 도중 실수가 발생했거나 데이터를 저장하고 싶지 않은 경우, 우측의 삭제(🗑️) 아이콘을 클릭하여 기록을 취소할 수 있습니다.
![예시 이미지](./image/4.6_stop_recording.gif)
<br />

## Step 4. 원본 데이터 저장 경로 확인  
기록된 데이터는 시스템 내 지정된 경로에 타임스탬프 폴더 형식으로 저장됩니다.
- 저장 경로: `/habilis_dataset_manager/data/raw/{folder_name}`
- 데이터 구조 예시:
```bash
habilis_dataset_manager/data/raw/                                                                                                          
    └── {YYYYMMDD_HHMMSS}/          # 녹화 시작 시간 타임스탬프                                                          
        ├── metadata.yaml            # ros2 bag이 자동 생성                                                              
        ├── *.mcap                   # ros2 bag 데이터 파일                                                
        └── metacard.json            # meta data                                                              
```

:::warning[경고]
 
다음과 같은 경우 ROS2 Bag 데이터 저장이 실패하거나 파일이 손상될 수 있으므로, 녹화 전 사전 점검을 권장합니다.

- 통신 대역폭이 충분하지 않은 경우
- 디바이스의 저장 공간이 부족한 경우
:::